(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{449:function(e,o,a){var r=a(500);"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var t=a(7).default;t("3ad97c1c",r,!1,{sourceMap:!1,shadowMode:!1})},499:function(e,o,a){"use strict";var r=a(449),t=a.n(r);t.a},500:function(e,o,a){var r=a(6);o=r(!1),o.push([e.i,"\n.formulario-contenedor[data-v-6ba76b80] {\r\n  padding: 0px 12px;\n}\n.btn[data-v-6ba76b80] {\r\n  padding: 0px 0px;\n}\nspan[data-v-6ba76b80] {\r\n  font-size: 0.9rem;\n}\r\n",""]),e.exports=o},534:function(e,o,a){"use strict";a.r(o);var r=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("v-row",[e.correoDuplicado?a("v-col",{attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"error",dismissible:""}},[e._v("Correo ya registrado anteriormente.")])],1):e._e(),e.lectura?a("v-col",{attrs:{cols:"6"}},[a("h2",[e._v("Información de contacto")])]):e._e(),e.lectura?a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"6"}},[a("v-btn",{staticClass:"btn-editar",attrs:{outlined:"",color:"verde",disabled:e.editar},on:{click:function(o){e.editar=!0}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-file-document-edit-outline")]),e._v("Editar ")],1),a("v-btn",{attrs:{color:"verde",disabled:!e.editar,dark:e.editar,depressed:""},on:{click:e.actualizar}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-content-save")]),e._v("Guardar cambios ")],1)],1):e._e(),a("v-col",{attrs:{cols:"12"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(o){e.valid=o},expression:"valid"}},[a("v-row",[a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"4"}},[a("v-text-field",{attrs:{dense:"",outlined:"",color:"verde",label:"Nombre(s)","background-color":"blue-grey lighten-5",rules:[function(e){return!!e||"El campo es requerido"},function(e){return e&&e.length>=3||"El campo debe contener más de 3 carácteres"}],required:"",disabled:!e.editar},model:{value:e.informacionBasica.nombre,callback:function(o){e.$set(e.informacionBasica,"nombre",o)},expression:"informacionBasica.nombre"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"5"}},[a("v-text-field",{attrs:{disabled:!e.editar,dense:"",outlined:"",color:"verde",label:"Apellidos","background-color":"blue-grey lighten-5",rules:[function(e){return!!e||"El campo es requerido"},function(e){return e&&e.length>=3||"El campo debe contener más de 3 carácteres"}],required:""},model:{value:e.informacionBasica.apellidos,callback:function(o){e.$set(e.informacionBasica,"apellidos",o)},expression:"informacionBasica.apellidos"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"3"}},[a("v-select",{attrs:{disabled:!e.editar,dense:"",outlined:"",color:"verde",label:"Sexo","background-color":"blue-grey lighten-5","item-color":"verde",items:e.sexo,rules:[function(e){return!!e||"El campo es requerido"}],required:""},model:{value:e.informacionBasica.sexo,callback:function(o){e.$set(e.informacionBasica,"sexo",o)},expression:"informacionBasica.sexo"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"6"}},[a("v-text-field",{attrs:{disabled:!e.editar,dense:"",outlined:"",color:"verde",label:"Correo","background-color":"blue-grey lighten-5",rules:[function(e){return!!e||"El campo es requerido"},function(e){return/.+@.+\..+/.test(e)||"Formato de correo no válido"}],required:""},model:{value:e.informacionBasica.correo,callback:function(o){e.$set(e.informacionBasica,"correo",o)},expression:"informacionBasica.correo"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"6"}},[a("v-text-field",{attrs:{disabled:!e.editar,dense:"",outlined:"",color:"verde",label:"Confirmar correo","background-color":"blue-grey lighten-5",rules:e.reglaCorreoConfirmacion,required:""},model:{value:e.correo,callback:function(o){e.correo=o},expression:"correo"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"6"}},[a("v-text-field",{attrs:{disabled:!e.editar,dense:"",outlined:"",color:"verde",label:"Password","background-color":"blue-grey lighten-5",type:e.show?"text":"password","append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[function(e){return!!e||"El campo es requerido"},function(e){return e&&e.length>6||"La contraseña debe contener mas de 6 carácteres"}],required:""},on:{"click:append":function(o){e.show=!e.show}},model:{value:e.informacionBasica.password,callback:function(o){e.$set(e.informacionBasica,"password",o)},expression:"informacionBasica.password"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"6"}},[a("v-text-field",{attrs:{disabled:!e.editar,dense:"",outlined:"",color:"verde",label:"Confirmar contraseña","background-color":"blue-grey lighten-5",type:e.show1?"text":"password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:e.reglaContraseñaConfirmacion,required:""},on:{"click:append":function(o){e.show1=!e.show1}},model:{value:e.password,callback:function(o){e.password=o},expression:"password"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"6"}},[a("v-text-field",{attrs:{disabled:!e.editar,dense:"",outlined:"",color:"verde",label:"Télefono celular","background-color":"blue-grey lighten-5",type:"text",rules:[function(e){return!!e||"El campo es requerido"},function(e){return/^[0-9]*$/.test(e)||"Formato no válido"},function(e){return e&&10==e.length||"El teléfono debe contener 10 carácteres"}],required:""},model:{value:e.informacionBasica.telefonoCelular,callback:function(o){e.$set(e.informacionBasica,"telefonoCelular",o)},expression:"informacionBasica.telefonoCelular"}})],1),a("v-col",{staticClass:"formulario-contenedor",attrs:{cols:"6"}},[a("v-switch",{attrs:{disabled:!e.editar,"prepend-icon":"mdi-whatsapp",color:"#24cc89",label:"¿El número cuenta con WhatsApp?"},model:{value:e.informacionBasica.whatsApp,callback:function(o){e.$set(e.informacionBasica,"whatsApp",o)},expression:"informacionBasica.whatsApp"}})],1)],1)],1),e.lectura?e._e():a("v-col",{staticClass:"d-flex justify-end btn",attrs:{cols:"12"}},[a("v-btn",{attrs:{disabled:!e.editar,color:"verde",dark:"",large:"",elevation:"0",block:""},on:{click:e.siguiente}},[e._v("Continuar")])],1)],1)],1)},t=[];r._withStripped=!0;a(148);var n=a(69),i=a(1),c=a(70),s=a.n(c),l=a(24),d={name:"InformacionDeContacto",data:function(){return{correoDuplicado:!1,show:!1,show1:!1,editar:!1,informacionBasica:{whatsApp:!1},sexo:["Femenino","Masculino"],password:"",correo:"",valid:!0}},props:{lectura:{type:Boolean,default:!1,required:!1}},methods:Object(i["a"])({},Object(l["c"])(["cambiarNombre","registrarToken"]),{siguiente:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!e.$refs.form.validate()){o.next=16;break}return e.$emit("activarLoading",!0),o.prev=2,o.next=5,s.a.post("http://lucy-coatza.herokuapp.com/user/create",e.informacionBasica);case 5:a=o.sent,console.log(a),200===a.status&&(e.registrarToken(a.data.token),e.$emit("siguiente")),202===a.status&&(e.correoDuplicado=!0),e.$emit("activarLoading",!1),o.next=16;break;case 12:o.prev=12,o.t0=o["catch"](2),e.$emit("activarLoading",!1),console.warn(o.t0);case 16:case"end":return o.stop()}}),o,null,[[2,12]])})))()},obtenerDatos:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var a,r,t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a={headers:{"X-CSRF-Token":e.token,Accept:"application/json","Content-Type":"application/json"}},o.prev=1,o.next=4,s.a.get("http://lucy-coatza.herokuapp.com/user",a);case 4:return r=o.sent,console.log(r),o.next=8,e.convertirSexo(r.data.sexo);case 8:t=o.sent,r.data.sexo=t,e.correo=r.data.correo,e.password=r.data.password,e.informacionBasica=r.data,o.next=18;break;case 15:o.prev=15,o.t0=o["catch"](1),console.log(o.t0);case 18:case"end":return o.stop()}}),o,null,[[1,15]])})))()},actualizar:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var a,r,t,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!e.$refs.form.validate()){o.next=21;break}return e.$emit("activarLoading",!0),o.prev=2,a={headers:{"X-CSRF-Token":e.token,Accept:"application/json","Content-Type":"application/json"}},delete e.informacionBasica.activado,o.next=7,s.a.put("http://lucy-coatza.herokuapp.com/update/user",e.informacionBasica,a);case 7:r=o.sent,t={msg:r.data.message,mostrar:!0},e.cambiarNombre(e.informacionBasica.nombre),e.editar=!1,e.$emit("activarLoading",!1),e.$emit("activarMensaje",t),o.next=21;break;case 15:o.prev=15,o.t0=o["catch"](2),n={msg:"Hubo un error al actualizar su información.",mostrar:!0},e.editar=!1,e.$emit("activarLoading",!1),e.$emit("activarMensaje",n);case 21:case"end":return o.stop()}}),o,null,[[2,15]])})))()},convertirSexo:function(e){for(var o=e.length,a="",r=0;r<o;r++)a+=0==r?e.charAt(r).toUpperCase():e.charAt(r).toLowerCase();return a}}),computed:Object(i["a"])({},Object(l["d"])(["token","sesion"]),{"reglaContraseñaConfirmacion":function(){var e=this;return[function(){return e.informacionBasica.password===e.password||"Las contraseñas no son iguales"},function(e){return!!e||"Confirmación de la contraseña es requerida"}]},reglaCorreoConfirmacion:function(){var e=this;return[function(){return e.informacionBasica.correo===e.correo||"Los correos no son iguales"},function(e){return!!e||"Confirmación del correo es requerida"}]}}),mounted:function(){this.editar=!this.lectura},created:function(){this.sesion&&this.obtenerDatos()}},u=d,f=(a(499),a(45)),m=a(46),p=a.n(m),v=a(425),b=a(180),h=a(413),g=a(415),w=a(181),x=a(416),k=a(402),C=a(435),B=a(81),y=Object(f["a"])(u,r,t,!1,null,"6ba76b80",null);p()(y,{VAlert:v["a"],VBtn:b["a"],VCol:h["a"],VForm:g["a"],VIcon:w["a"],VRow:x["a"],VSelect:k["a"],VSwitch:C["a"],VTextField:B["a"]}),y.options.__file="src/components/formulario/InformacionDeContacto.vue";o["default"]=y.exports}}]);